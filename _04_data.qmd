# Data

Nitrate concentrations and some plankton values were obtained from the World Ocean Database (WOD). The data set was selected through the WOD query selector and CSV files were made available for download. The files from WOD were formatted in the following manner: each set of observations were included under a list of metadata including CAST number (a unique identifier for that set of observations), latitude, longitude, year, month, day, and more. A Python script was written to parse through these CSV files and extract all the observations as well as the above metadata. Besides the metadata, also included with the nitrate data was a value for nitrate concentration, the unit for said concentration (being micro molality, or μmol/kg), the depth of said observed nitrate concentration, the units for the depth (m), the uncertainty for the depth, and the units for that uncertainty (m). In addition to the metadata, the plankton data included a plankton value, a unit for that plankton value (e.g. #/m3), a measurement type (taxon dry mass, taxon wet mass, displacement, etc.) a WOD plankton grouping code that that specifies taxon and trophic mode (e.g. 200000 values are phytoplankton, 400000 are zooplankton, etc.), and the genus for the observed plankton. The output of the Python script was a combined CSV file containing both nitrate and plankton data. This CSV was imported to a local Postgres database before being split into separate tables and cleaned to remove erroneous values before being uploaded to an online Postgres database hosted on Railway using DuckDB.

Shipping density data was downloaded from the World Bank Group. This data consisted of a high resolution TIFF image, with each pixel representing shipping activity over a 0.005 by 0.005 degree grid, which equates to around a 500m by 500m square near the equator. Due to the large number of pixels in this image, it was not feasible to extract every pixel value from this image. Instead, latitude and longitude coordinates were taken from the observations from the World Ocean Database containing nitrate and plankton levels, and a Python script was run to obtain the pixel value at each location. Due to limitations in satellite imaging, data for above 85° north and -85° south was not available. This table was then uploaded to the online Postgres database on Railway using DuckDB.

Chlorophyll a concentration data was downloaded from NASA’s OceanColor database using a programmatic query to the OceanData API. Specifically, the request targeted Aqua MODIS Level 3 chlorophyll a (otherwise known as a-chlorophyll) data, monthly composite, at a 9 km resolution, spanning from July 2002 to March 2025. As chlorophyll a is the form of chlorophyll used in photosynthesis, chlorophyll a levels can be used as a proxy for phytoplankton health and abundance. The raw .nc files were processed using xarray and pandas in Python to extract spatially gridded chlorophyll a values along with the corresponding latitude, longitude, year, and month. For each time step, the grid was averaged at a 0.01 degrees resolution to reduce data size. Final data was saved to year-specific .csv files for easy integration into downstream analysis pipelines and uploaded to a PostgreSQL database for access by mapping and modeling workflows. The chlorophyll a data was cleaned to remove extreme outliers and negative values (which are physically implausible). Data north of 85° and south of -85° latitude are missing due to satellite orbital limits and coverage. This table was uploaded to the onine Postgres database on Railway.
